请参考 transcribe_service.py 和 modles.py 这两个的代码来实现相关功能
首先,按下开始录音按键后,开始请求麦克风权限,如果无权限则提示
开始录制后,使用 transcribe_service.py 中相同的方法来检测RMS,相关参数可在 设置 中设定
当达到预先设定的值并持续指定的秒数后,从初次达到的时候开始录音,确保不丢失开头的片段
当低于设置数值并持续指定秒数后,结束该片段录音,提交指定模型转写,并生成相关消息占位,等到转写完成后填充相关内容
如果启用翻译,则调用指定引擎,则从头开始一条一条翻译,如无新消息就等着,每条翻译可以设置超时时间,超时即失败继续下一条
用户可以在对话中接着录制,所以请为每条消息编号,接着上次的编号转写和输出翻译
modles.py 中有多种引擎的实现方式,但是都对应python,请自行搜索使用curl如何调用
transcribe_service.py 中有使用python实现的相同逻辑作为参照,其他未用到功能等待后续开发
对于可自定义部分预留接口,放在 设置 页面中可自定义